FROM alpine:3.21.3
RUN apk upgrade --no-cache \
    && apk add --no-cache nmap libpcap-dev libcap-setcap bind-tools ca-certificates nmap-scripts
WORKDIR /app
# Before copying the binary, make sure you have set the following capabilities to the binary: 
# `sudo setcap cap_net_raw,cap_net_admin,cap_net_bind_service+eip naabum8`
COPY naabum8 /usr/local/bin/
RUN setcap cap_net_raw,cap_net_admin,cap_net_bind_service+eip naabum8
CMD ["naabum8","launch"]